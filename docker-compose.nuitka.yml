version: '3.8'

services:
  rms-rpp-api-nuitka:
    build:
      context: .
      dockerfile: Dockerfile.nuitka
    container_name: rms-rpp-api-nuitka
    ports:
      - "8000:8000"
    environment:
      # 環境変数は.envファイルから読み込む
    env_file:
      - .env
    volumes:
      # 開発時にコードをマウントする場合（本番環境では削除）
      # - .:/app
    restart: unless-stopped
    # Playwright用のセキュリティ設定
    security_opt:
      - seccomp:unconfined
    shm_size: 2gb


